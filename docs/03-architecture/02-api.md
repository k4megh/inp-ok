# API

#### 1. Сущности
**Тикет (Ticket)**

| Поле                   | Бизнес-описание                                                             | Пример значения                                                                   |
|------------------------|-----------------------------------------------------------------------------|-----------------------------------------------------------------------------------|
| title                  | Заголовок тикета                                                            | "Заявка 2025.09.26.1930 Отправитель Антонов Б.В. Взявший в работу Григорьев Д.Е." |
| description            | Детальное описание заявки                                                   | "Съёмка 7 этажа 2 подъезда Объекта 33"                                            |
| owner                  | Идентификатор владельца (бизнес-аккаунта)                                   | "urn:company:permgeo"                                                             |
| visibility             | Видимость: "public", "private"                                              | "private"                                                                         |
| status                 | Состояние заявки: Взято в работу, просроченный тикет, выполнено, возвращено | "Взято в работу"                                                                  |
| originalSenderUserName | Имя автора заявки                                                           | "Антонов Б.В."                                                                    |
| creationDateTime       | Дата и время создания заявки                                                | "2025.09.26.1930"                                                                 |
| takenByUser            | Взявший в работу                                                            | "Григорьев Д.Е."                                                                  |
| returnedByUser         | Возвративший заявку без исполнения                                          | "Железнов З.И."                                                                   |
| executedByUser         | Исполнивший заявку                                                          | "Железнов З.И."                                                                   |
| completionDateTime     | Дата и время завершения работы                                              | "2025.09.26.1930"                                                                 |
| facility               | Объект, на котором производились измерения                                  | "Строительный объект 3"                                                           |
| csvFileId              | Идентификатор исходного файла (CSV), подлежащего обработке                  | Идентификатор файла в файловом хранилище                                          |
| pdfDwgFileId           | Идентификатор обработанного файла (PDF/DWG), подлежащего обработке          | Идентификатор файла в файловом хранилище                                          |

#### 2. Бизнес-функции (методы)
**CRUDS для тикетов**
1. **`tickets.create`** - Создание нового тикета
   - *Бизнес-правило*: Только верифицированные пользователи могут создавать тикеты
   - *Ограничения*: Минимум 3 символа в заголовке

2. **`tickets.update`** - Обновление существующего тикета
   - *Бизнес-правило*: Только владелец может изменять тикет
   
3. **`tickets.read`** - Получение информации о тикете
   - *Бизнес-правило*: Для тикетов доступ только для владельца
   
4. **`tickets.delete`** - Удаление тикетов
   - *Бизнес-правило*: Возможность удаления только для тикетов, не взятых ещё в работу 

5. **`tickets.search`** - Поиск тикетов
   - *Бизнес-логика*: Возвращает private-тикеты
   - *Фильтры*: По объекту, по исполнителю, по статусу

**Специальные методы**
1. **`tickets.ststistics`** - Вывод статистики по задачам
   - *Бизнес-логика*: Создать отчеты по статистике состояния выполнения заявок
   - *Критерии совместимости*:
      - По периодам: день, 3 дня, неделя, месяц.
      - По пользователям
   - *Возвращает*: Список релевантных тикетов 

#### 3. Бизнес-правила
1. **Видимость тикетов**:
   - `public`: Видно всем пользователям
   - `private`: Только для внутреннего использования компанией

2. **Ограничения для новых пользователей**:
   - Максимум 10 активных тикетов
   - Лимит 10 поисковых запросов в минуту

#### 4. Бизнес-метрики успеха
1. **Скорость подбора тикетов**: 95% запросов должны возвращать результаты < 2 сек
2. **Точность соответствия**: 100% релевантных заявок для исполнения
3. **Ограничения**:
   - Новые пользователи: 10 запросов/минуту
   - Верифицированные компании: 100 запросов/минуту
